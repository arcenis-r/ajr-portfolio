{
  "hash": "18f69ba21572c0f3ef2af65e76576056",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Forecasting with {modeltime} - Part II\"\nsubtitle: \"Time series analysis\"\nauthor: \"Arcenis Rojas\"\ndate: \"2/15/2024\"\nbibliography: references.bib\ncategories:\n  - time series analysis\n  - econometrics\n  - data viz\nfig-height: 9\nfig-width: 10\nexecute:\n  warning: false\n  error: false\n  message: false\n---\n\n\nLast time on [Forecasting with {modeltime} - Part I](../20240212-forecasting-with-modeltime-part-1/forecasting-with-modeltime-part-1.qmd) I wrote about gathering the data for this project from various sources. Here I'll go into the first part of the analysis which will include visualizing the dependent variable, checking and correcting for non-stationarity, identifying seasonality, and identifying the terms (AR, MA) to use in a S-/ARIMA model.\n\nBesides the usual [tidyverse](https://www.tidyverse.org/) [@tidyverse], in this post I'll be using the [timetk](https://business-science.github.io/timetk/) [@timetk] package – also from the folks at [Business Science](https://www.business-science.io/) – for performing my data analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(timetk)\n\nconflicted::conflict_prefer(\"filter\", \"dplyr\")\nconflicted::conflict_prefer(\"lag\", \"dplyr\")\n```\n:::\n\n\n\n\n## A quick look at the Case-Shiller HPI\n\nIn this post I'll only be looking at the Case-Shiller Home Price Index (HPI) for the four cities in my data – San Diego, Dallas, Detroit, and New York City – between January 2006 and December 2022. Here's a quick peek at the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\necon_data |>\n  group_by(city) |>\n  slice_min(date, n = 3) |>\n  ungroup() |>\n  gt_bold_head()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"anxsygwzhf\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#anxsygwzhf table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#anxsygwzhf thead, #anxsygwzhf tbody, #anxsygwzhf tfoot, #anxsygwzhf tr, #anxsygwzhf td, #anxsygwzhf th {\n  border-style: none;\n}\n\n#anxsygwzhf p {\n  margin: 0;\n  padding: 0;\n}\n\n#anxsygwzhf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#anxsygwzhf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#anxsygwzhf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#anxsygwzhf .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#anxsygwzhf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#anxsygwzhf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#anxsygwzhf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#anxsygwzhf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#anxsygwzhf .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#anxsygwzhf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#anxsygwzhf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#anxsygwzhf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#anxsygwzhf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#anxsygwzhf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#anxsygwzhf .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#anxsygwzhf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#anxsygwzhf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#anxsygwzhf .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#anxsygwzhf .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#anxsygwzhf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#anxsygwzhf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#anxsygwzhf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#anxsygwzhf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#anxsygwzhf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#anxsygwzhf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#anxsygwzhf .gt_left {\n  text-align: left;\n}\n\n#anxsygwzhf .gt_center {\n  text-align: center;\n}\n\n#anxsygwzhf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#anxsygwzhf .gt_font_normal {\n  font-weight: normal;\n}\n\n#anxsygwzhf .gt_font_bold {\n  font-weight: bold;\n}\n\n#anxsygwzhf .gt_font_italic {\n  font-style: italic;\n}\n\n#anxsygwzhf .gt_super {\n  font-size: 65%;\n}\n\n#anxsygwzhf .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#anxsygwzhf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#anxsygwzhf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#anxsygwzhf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#anxsygwzhf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#anxsygwzhf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#anxsygwzhf .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"city\">city</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"date\">date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"hpi\">hpi</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-01-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">121.9108</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-02-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">121.3285</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-03-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">121.5217</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Detroit</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-01-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">126.6627</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Detroit</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-02-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">126.3886</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Detroit</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-03-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">126.1218</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">New York</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-01-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">213.4958</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">New York</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-02-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">214.4696</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">New York</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-03-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">214.3266</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">San Diego</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-01-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">247.4588</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">San Diego</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-02-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">247.8891</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">San Diego</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-03-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">248.0924</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nNow I'll look visualize the data in a line plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\necon_data |>\n  ggplot(aes(date, hpi, color = city)) +\n  geom_line() +\n  labs(\n    x = NULL,\n    y = \"HPI\",\n    color = NULL,\n    title = \"Case-Shiller HPI from 2006 through 2022\"\n  ) +\n  theme_timetk +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/initial-line-plot-1.png){width=576}\n:::\n:::\n\n\nHere one can see that Dallas's HPI did not drop as much during the Great Recession and has had a fast rise relative to those of the other cities ever since. It's also pretty clear that NYC's HPI has experienced a relatively mild increase over the years covered. There's also more volatility between 2010 and 2015 in the HPIs for NYC, Dallas, and Detroit than in San Diego's.\n\n## Time series analysis\n\nThe goal of this initial analysis is to find the parameters to use in an ARIMA model, which means that I'll need to ensure my data are [stationary](https://en.wikipedia.org/wiki/Stationary_process). I'll try to get there through the following operations and analyses.\n\n### Preparing the data\n\nBefore performing any analysis I'd like to add one column with a lagged first-difference and another with a lagged twelfth-difference. To accomplish this I'll use the `tk_augment_differences()` from the [timetk](https://business-science.github.io/timetk/) package. I'll store this data set in a new variable called \"hpi_series\". I chose these two lagged differences because the lagged first-difference generally any stationarity rooted in a trend and the lagged twelfth-difference should deal with seasonality as my data are monthly observations and I'm operating on the assumption that the housing market cycle is annual.\n\nBelow is a snippet of the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series <- econ_data |>\n  select(city, date, hpi) |>\n  group_by(city) |>\n  tk_augment_differences(\n    .value = hpi,\n    .lags = 1,\n    .differences = c(1, 12),\n    .log = FALSE\n  ) |>\n  ungroup()\n\nhead(hpi_series, 15) |> gt_bold_head()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"gfvzkssdhv\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#gfvzkssdhv table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#gfvzkssdhv thead, #gfvzkssdhv tbody, #gfvzkssdhv tfoot, #gfvzkssdhv tr, #gfvzkssdhv td, #gfvzkssdhv th {\n  border-style: none;\n}\n\n#gfvzkssdhv p {\n  margin: 0;\n  padding: 0;\n}\n\n#gfvzkssdhv .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#gfvzkssdhv .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#gfvzkssdhv .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#gfvzkssdhv .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#gfvzkssdhv .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#gfvzkssdhv .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#gfvzkssdhv .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#gfvzkssdhv .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#gfvzkssdhv .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#gfvzkssdhv .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#gfvzkssdhv .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#gfvzkssdhv .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#gfvzkssdhv .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#gfvzkssdhv .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#gfvzkssdhv .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gfvzkssdhv .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#gfvzkssdhv .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#gfvzkssdhv .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#gfvzkssdhv .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gfvzkssdhv .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#gfvzkssdhv .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gfvzkssdhv .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#gfvzkssdhv .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gfvzkssdhv .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gfvzkssdhv .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gfvzkssdhv .gt_left {\n  text-align: left;\n}\n\n#gfvzkssdhv .gt_center {\n  text-align: center;\n}\n\n#gfvzkssdhv .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#gfvzkssdhv .gt_font_normal {\n  font-weight: normal;\n}\n\n#gfvzkssdhv .gt_font_bold {\n  font-weight: bold;\n}\n\n#gfvzkssdhv .gt_font_italic {\n  font-style: italic;\n}\n\n#gfvzkssdhv .gt_super {\n  font-size: 65%;\n}\n\n#gfvzkssdhv .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#gfvzkssdhv .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#gfvzkssdhv .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#gfvzkssdhv .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#gfvzkssdhv .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#gfvzkssdhv .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#gfvzkssdhv .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"city\">city</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"date\">date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"hpi\">hpi</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"hpi_lag1_diff1\">hpi_lag1_diff1</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"hpi_lag1_diff12\">hpi_lag1_diff12</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-01-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">121.9108</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-02-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">121.3285</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">-0.58234</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-03-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">121.5217</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.19324</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-04-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">122.3996</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.87788</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-05-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">123.2863</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.88666</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-06-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">124.4985</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">1.21228</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-07-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">125.3672</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.86869</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-08-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">125.7007</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.33342</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-09-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">125.1859</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">-0.51474</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-10-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">124.5813</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">-0.60463</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-11-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">123.8517</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">-0.72958</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2006-12-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">123.6697</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">-0.18205</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2007-01-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">122.6361</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">-1.03360</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">-161.2924</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2007-02-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">122.7292</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.09314</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">188.2084</td></tr>\n    <tr><td headers=\"city\" class=\"gt_row gt_left\">Dallas</td>\n<td headers=\"date\" class=\"gt_row gt_right\">2007-03-01</td>\n<td headers=\"hpi\" class=\"gt_row gt_right\">123.1562</td>\n<td headers=\"hpi_lag1_diff1\" class=\"gt_row gt_right\">0.42699</td>\n<td headers=\"hpi_lag1_diff12\" class=\"gt_row gt_right\">-251.1343</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nAnd now I can look at line plots of the three different series with the original on the left ; the lagged first-difference in the middle; and the lagged twelfth-difference on the right with a the cities in the different rows. From left to right the plots go from being highly regular (seasonal and trending) to being less regular in the middle (only seasonal) and highly irregular on the right. That irregularity is indicative of stationarity, which is what I want to see. This also provides a sneak peak into what the following analyses will give us.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  pivot_longer(starts_with(\"hpi\"), names_to = \"series\", values_to = \"value\") |>\n  group_by(city, series) |>\n  plot_time_series(\n    date,\n    value,\n    .facet_ncol = 3,\n    .title = \"Case-Shiller HPI from 2006 through 2022\",\n    .interactive = FALSE\n  ) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/plot-lagged-diffs-1.png){width=960}\n:::\n:::\n\n\nOn might ask \"why not use a lagged, log difference?\" The below plot shows that using a lagged, log first- and twelfth-differenced series don't change anything compared to the lagged first- and twelfth-differenced series except for generating data with much higher relative amplitude and possibly showing outliers. This might actually introduce heteroskedasticity, which I'd like to avoid.\n\n\n::: {.cell}\n\n```{.r .cell-code}\necon_data |>\n  tk_augment_differences(\n    .value = hpi,\n    .lags = 1,\n    .differences = c(1, 12),\n    .log = TRUE\n  ) |>\n  pivot_longer(starts_with(\"hpi\"), names_to = \"series\", values_to = \"value\") |>\n  group_by(city, series) |>\n  plot_time_series(\n    date,\n    value,\n    .facet_ncol = 3,\n    .title = \"Case-Shiller HPI from 2006 through 2022\",\n    .interactive = FALSE\n  ) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/plot-lagged-log-diffs-1.png){width=960}\n:::\n:::\n\n\n### Time series decomposition\n\nThe following plot shows the Seasonal-Trend decomposition using Loess (STL), which is a common tool to determine how much of a time series' movement is due to a trend versus that which is due to it's seasonality. Again, here I'll assume an annual seasonal cycle.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  group_by(city) |>\n  plot_stl_diagnostics(\n    date,\n    hpi,\n    .feature_set = c(\"observed\", \"season\", \"trend\", \"remainder\"),\n    .interactive = FALSE,\n    .frequency = 12\n  ) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/stl-1.png){width=960}\n:::\n:::\n\n\nAccording to this plot most of the movement in the HPI is determined by the trend and very little by seasonality.\n\n### Augmented Dickey-Fuller Test\n\nThe Augmented Dickey-Fuller Test (ADF) is commonly run to evaluate whether a time series is stationary or not. The null hypothesis of the ADF is that the time series is non-stationary, so want to reject the null hypothesis to be able to assume the alternative, i.e., that the series is stationary. The following table shows that one can reject the null hypothesis for every city but San Diego with just a lagged first-difference, but with the lagged twelfth-difference all four series can be thought of as stationary.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_adf <- hpi_series |>\n  pivot_longer(!c(city, date), names_to = \"variable\") |>\n  group_by(city, variable) |>\n  nest(data = c(date, value)) |>\n  mutate(\n    adf_test = map(\n      data,\n      \\(x) drop_na(x, value) |>\n        pull(value) |>\n        tseries::adf.test() |>\n        broom::tidy() |>\n        select(statistic, p.value)\n    )\n  ) |>\n  select(-data) |>\n  unnest(adf_test) |>\n  ungroup(variable)\n\nhpi_adf |>\n  group_by(city) |>\n  group_nest() |>\n  mutate(data_gt = map(data, make_adf_gt)) |>\n  select(!data) |>\n  pivot_wider(names_from = city, values_from = data_gt) |>\n  gt_bold_head()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"iomsbsoxze\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#iomsbsoxze table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#iomsbsoxze thead, #iomsbsoxze tbody, #iomsbsoxze tfoot, #iomsbsoxze tr, #iomsbsoxze td, #iomsbsoxze th {\n  border-style: none;\n}\n\n#iomsbsoxze p {\n  margin: 0;\n  padding: 0;\n}\n\n#iomsbsoxze .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#iomsbsoxze .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#iomsbsoxze .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#iomsbsoxze .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#iomsbsoxze .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#iomsbsoxze .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#iomsbsoxze .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#iomsbsoxze .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#iomsbsoxze .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#iomsbsoxze .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#iomsbsoxze .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#iomsbsoxze .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#iomsbsoxze .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#iomsbsoxze .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#iomsbsoxze .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iomsbsoxze .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#iomsbsoxze .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#iomsbsoxze .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#iomsbsoxze .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iomsbsoxze .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#iomsbsoxze .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iomsbsoxze .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#iomsbsoxze .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iomsbsoxze .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#iomsbsoxze .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iomsbsoxze .gt_left {\n  text-align: left;\n}\n\n#iomsbsoxze .gt_center {\n  text-align: center;\n}\n\n#iomsbsoxze .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#iomsbsoxze .gt_font_normal {\n  font-weight: normal;\n}\n\n#iomsbsoxze .gt_font_bold {\n  font-weight: bold;\n}\n\n#iomsbsoxze .gt_font_italic {\n  font-style: italic;\n}\n\n#iomsbsoxze .gt_super {\n  font-size: 65%;\n}\n\n#iomsbsoxze .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#iomsbsoxze .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#iomsbsoxze .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#iomsbsoxze .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#iomsbsoxze .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#iomsbsoxze .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#iomsbsoxze .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"Dallas\">Dallas</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"Detroit\">Detroit</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"New York\">New York</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"San Diego\">San Diego</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Dallas\" class=\"gt_row gt_center\"><div id=\"vytdxhsfhu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  \n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\" style=\"-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3;\" bgcolor=\"#FFFFFF\">\n  <thead style=\"border-style: none;\">\n    <tr class=\"gt_col_headings\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3;\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: left; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"variable\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"left\">variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"statistic\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"p.value\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3;\">\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−0.688</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">0.970</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff1</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−3.985</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.011</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff12</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−21.100</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.010</td></tr>\n  </tbody>\n  \n  \n</table>\n</div></td>\n<td headers=\"Detroit\" class=\"gt_row gt_center\"><div id=\"cbmoyiaker\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  \n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\" style=\"-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3;\" bgcolor=\"#FFFFFF\">\n  <thead style=\"border-style: none;\">\n    <tr class=\"gt_col_headings\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3;\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: left; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"variable\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"left\">variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"statistic\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"p.value\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3;\">\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−2.927</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">0.188</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff1</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−6.023</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.010</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff12</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−21.563</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.010</td></tr>\n  </tbody>\n  \n  \n</table>\n</div></td>\n<td headers=\"New York\" class=\"gt_row gt_center\"><div id=\"yyezmuzorr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  \n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\" style=\"-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3;\" bgcolor=\"#FFFFFF\">\n  <thead style=\"border-style: none;\">\n    <tr class=\"gt_col_headings\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3;\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: left; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"variable\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"left\">variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"statistic\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"p.value\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3;\">\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−0.256</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">0.990</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff1</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−6.495</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.010</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff12</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−24.809</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.010</td></tr>\n  </tbody>\n  \n  \n</table>\n</div></td>\n<td headers=\"San Diego\" class=\"gt_row gt_center\"><div id=\"zrgibwwdoj\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n  \n  <table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\" style=\"-webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3;\" bgcolor=\"#FFFFFF\">\n  <thead style=\"border-style: none;\">\n    <tr class=\"gt_col_headings\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3;\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: left; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"variable\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"left\">variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"statistic\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-style: none; color: #333333; background-color: #FFFFFF; font-size: 100%; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; font-weight: bold; border-top-width: 2px; border-top-style: solid; border-top-color: #000000; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #000000;\" scope=\"col\" id=\"p.value\" bgcolor=\"#FFFFFF\" valign=\"bottom\" align=\"right\">p.value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\" style=\"border-style: none; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3;\">\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−2.368</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">0.422</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff1</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−2.982</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">0.165</td></tr>\n    <tr style=\"border-style: none;\"><td headers=\"variable\" class=\"gt_row gt_left\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: left;\" valign=\"middle\" align=\"left\">hpi_lag1_diff12</td>\n<td headers=\"statistic\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums;\" valign=\"middle\" align=\"right\">−27.132</td>\n<td headers=\"p.value\" class=\"gt_row gt_right\" style=\"border-style: none; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; text-align: right; font-variant-numeric: tabular-nums; background-color: #FFFF00;\" bgcolor=\"#FFFF00\" valign=\"middle\" align=\"right\">0.010</td></tr>\n  </tbody>\n  \n  \n</table>\n</div></td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n### ACF / PACF plots\n\nThe Autocorrelation Function (ACF) calculates the correlation of a value, e.g., the most recent value of the HPI, with previous values in the same series. Knowing this is very useful for determining how many Moving Average (the \"MA\" in ARIMA) lags to use in an ARIMA mode. The Partial Autocorrelation Function (PACF) calculates the correlation of a value with previous values in the same series after accounting for intervening correlations. This is useful to help us determine how many lags to use for the Autoregressive (the \"AR\" in ARIMA) part of an ARIMA model. Below are the ACF and PACF plots for the HPI series (no lagged differences) for all four cities. The timetk::`plot_acf_diagnostics()` function plots ACF on top and PACF on bottom, which is conventional. Values outside of the red, dashed lines indicate statistically significant correlations.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  group_by(city) |>\n  plot_acf_diagnostics(\n    date,\n    hpi,\n    .lags = 60,\n    .title = \"HPI Lag Diagnostics\",\n    .interactive = FALSE,\n    .white_noise_line_color = \"red\"\n  ) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/plot-acf1-1.png){width=768}\n:::\n:::\n\n\nIt's clear from the ACF plot that the trend is causing a lot of the autocorrelation in each city. Next is the same plot, but for the first-differenced values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  group_by(city) |>\n  plot_acf_diagnostics(\n    date,\n    hpi_lag1_diff1,\n    .lags = 60,\n    .title = \"First-Differenced HPI Lag Diagnostics\",\n    .interactive = FALSE,\n    .white_noise_line_color = \"red\"\n  ) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/plot-acf2-1.png){width=768}\n:::\n:::\n\n\nThe trend's influence is significantly decreased here, but there are still some strong seasonal patterns in the data. Below is a look at the twelfth-differenced series.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  group_by(city) |>\n  plot_acf_diagnostics(\n    date,\n    hpi_lag1_diff12,\n    .lags = 60,\n    .title = \"Twelfth-Differenced HPI Lag Diagnostics\",\n    .interactive = FALSE,\n    .white_noise_line_color = \"red\"\n  ) +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/plot-acf3-1.png){width=768}\n:::\n:::\n\n\nLooking at this plot over 36 months it still appears that there is a small seasonal effect in Dallas, San Diego, and Detroit with Detroit's possibly being a shorter season. Considering the infinite number of things that could affect one of these data series one could look at hundreds of plots like this with different combinations of lags and differences for any one series and never find a perfect one. This plot is pretty good. From this plot it looks like I'm going to us an AR(3) model. San Diego's PACF suggests that I should use two for that city, but I'm looking for one value for all four cities. The MA component is a little more challenging. It looks like I would use MA lags of 5 or 6 for Dallas, 8 for San Diego, 4 for NYC, and 4 or 5 for Detroit. I'm going to use MA(5) for my ARIMA.\n\n### Seasonality\n\nIt's been pretty clear up to this point that seasonality is an important consideration with this data series and it's something that I will expect to handle in the modeling portion of the analysis in a later post. If I wanted to handle seasonality in a conventional model I might run a SARIMA model, but I'm going to keep this part simple and only run ARIMA knowing that I'm partially ignoring the seasonality and only dealing with it by differencing. With that said, I'll show two more plots here to demonstrate the `timetk::plot_seasonal_diagnostics()` . The first plot shows seasonal diagnostics for the unadjusted series and the second one for the twelfth-differenced series.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  plot_seasonal_diagnostics(\n    date,\n    hpi,\n    .facet_vars = city,\n    .interactive = FALSE,\n    .title = \"HPI Seasonal Diagnostics\"\n  ) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    plot.title = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/seas-diag1-1.png){width=960}\n:::\n:::\n\n\nThis plot shows a clear pattern of HPI values being lowest in the first quarter across all four cities, highest in the second and third quarters for San Diego, and highest in the quarter for New York and December. From this data it seems that the peak in Dallas is December. This seasonality can obscure the findings of an ARIMA model.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhpi_series |>\n  plot_seasonal_diagnostics(\n    date,\n    hpi_lag1_diff12,\n    .facet_vars = city,\n    .interactive = FALSE,\n    .title = \"Twelfth-Differenced HPI Seasonal Diagnostics\"\n  ) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    plot.title = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](forecasting-with-modeltime-part-2_files/figure-html/seas-diag2-1.png){width=960}\n:::\n:::\n\n\nIn this plot the patterns are generally gone across the quarterly plots. Even the trend is mostly gone from the annual plot.\n\nIn the next post I'll use the AR and MA values from this post to run ARIMA models for all four cities using a global modeling process and an iterative modeling process with [modeltime](https://business-science.github.io/modeltime/).\n",
    "supporting": [
      "forecasting-with-modeltime-part-2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}